<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>pathagarlens</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
/* --------- Base / Typography --------- */
:root{
  --primary:#0a2a66;
  --accent:#ffcc00;
  --muted:#666;
  --bg:#f4f6fa;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Inter',sans-serif;
  background:var(--bg);
  color:#222;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
h1,h2,h3{font-family:'Playfair Display',serif;margin:0 0 10px 0}
a{text-decoration:none;color:inherit}

/* --------- Navbar (same style as other pages) --------- */
.navbar{
  background:#fff;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 40px;
  box-shadow:0 2px 6px rgba(0,0,0,0.05);
  position:sticky;
  top:0;
  z-index:1000;
}
.nav-left{display:flex;align-items:center;gap:18px}
.nav-left h2{margin:0;font-size:20px}
.nav-links a{margin-left:18px;font-weight:500;color:inherit}
.nav-right{display:flex;align-items:center;gap:12px}
.login-btn{background:var(--primary);color:#fff;padding:8px 14px;border-radius:6px;font-size:14px}
.admin-btn{background:#444;color:#fff;padding:8px 14px;border-radius:6px;font-size:14px}
.hamburger{font-size:22px;cursor:pointer}

/* dropdown */
.dropdown{
  position:fixed;
  right:40px;
  top:70px;
  background:#fff;
  box-shadow:0 6px 20px rgba(0,0,0,0.08);
  border-radius:6px;
  display:none;
  min-width:200px;
  z-index:1200;
}
.dropdown a{display:block;padding:12px 15px;border-bottom:1px solid #eee}
.dropdown a:hover{background:#f7f7f7}

/* --------- Header / Intro --------- */
.page-header{
  background:var(--primary);
  color:white;
  text-align:center;
  padding:56px 20px;
}
.page-header h1{font-size:34px}
.page-header p{margin-top:10px;opacity:0.95;font-size:15px}

/* --------- Main layout --------- */
.container{
  max-width:1200px;
  margin:30px auto;
  padding:0 20px 60px;
  display:grid;
  grid-template-columns:300px 1fr;
  gap:26px;
}

/* --------- Sidebar (filters) --------- */
.sidebar{
  background:#fff;
  padding:22px;
  border-radius:10px;
  box-shadow:0 3px 12px rgba(0,0,0,0.06);
  height:fit-content;
}
.sidebar h3{margin-bottom:12px}
.form-row{margin-bottom:14px}
.form-row label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
.form-row input[type="text"],
.form-row input[type="number"],
.form-row select{
  width:100%;
  padding:10px 12px;
  border-radius:8px;
  border:1px solid #e6e6e6;
  font-size:14px;
  background:#fafafa;
}
.checkbox-row{display:flex;gap:10px;align-items:center;margin-top:8px}
.small{font-size:13px;color:var(--muted)}

/* advanced filters collapsible */
.collapsible{
  border-radius:8px;
  background:#fbfbfb;
  padding:10px;
  margin-top:8px;
  cursor:pointer;
  font-size:13px;
  border:1px solid #f0f0f0;
}
.advanced-area{margin-top:10px;display:none}

/* filter actions */
.filters-actions{display:flex;gap:10px;margin-top:12px}
.filters-actions button{
  padding:10px 12px;border-radius:8px;border:none;cursor:pointer;font-weight:600;
}
.apply-btn{background:var(--primary);color:#fff}
.reset-btn{background:#f2f2f2;color:#333}

/* --------- Content area --------- */
.content {
  display:flex;
  flex-direction:column;
  gap:18px;
}

/* search bar + quickfilters */
.search-bar{
  display:flex;
  gap:12px;
  align-items:center;
}
.search-bar input[type="search"]{
  flex:1;
  padding:12px 14px;border-radius:8px;border:1px solid #e6e6e6;font-size:15px;background:#fff;
}
.search-bar .quick{
  display:flex;gap:8px;
}
.quick button{
  padding:10px 12px;border-radius:8px;border:1px solid #e6e6e6;background:#fff;cursor:pointer;font-size:13px;
}

/* sort / results meta */
.results-bar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
}
.results-info{color:var(--muted);font-size:14px}
.sort-select select{padding:8px 10px;border-radius:8px;border:1px solid #e6e6e6;background:#fff}

/* --------- Journal card --------- */
.journal-list{display:flex;flex-direction:column;gap:14px;margin-top:6px}
.journal-card{
  background:#fff;padding:18px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.05);
  display:grid;grid-template-columns:1fr 140px;gap:14px;align-items:center;
}
.journal-card .meta{color:var(--muted);font-size:13px;margin-bottom:8px}
.journal-card h3{font-size:18px;margin-bottom:6px}
.journal-card p{margin:0;color:#333;font-size:14px}
.journal-actions{display:flex;flex-direction:column;gap:8px;align-items:flex-end}
.journal-actions a, .journal-actions button{
  display:inline-block;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-weight:600;font-size:13px;
}
.view-btn{background:var(--primary);color:#fff}
.save-btn{background:#f2f2f2;color:#222}

/* small meta row under title */
.j-meta-row{display:flex;flex-wrap:wrap;gap:10px;color:var(--muted);font-size:13px;margin-top:8px}

/* no results */
.no-results{padding:30px;text-align:center;color:var(--muted);background:#fff;border-radius:10px}

/* pagination */
.pagination{display:flex;justify-content:center;gap:8px;padding-top:6px}
.pagination button{padding:8px 12px;border-radius:8px;border:1px solid #e6e6e6;background:#fff;cursor:pointer}
.pagination button.active{background:var(--primary);color:#fff;border:none}

/* subtle helpers */
.small-tag{background:#f3f7ff;color:var(--primary);padding:6px 8px;border-radius:999px;font-size:12px;font-weight:600}

/* --------- Footer (same style) --------- */
.footer{
  background:var(--primary);
  color:#fff;
  padding:50px 20px;
  margin-top:30px;
}
.footer-container{
  max-width:1100px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:30px;
}
.footer a{display:block;margin-bottom:8px;color:#f0f0f0}
.bottom{text-align:center;margin-top:20px;font-size:13px;opacity:0.9}

/* --------- Responsive mobile fixes (keeps desktop untouched) --------- */
@media (max-width: 900px){

  .navbar{flex-direction:column;align-items:flex-start;padding:12px 18px}
  .nav-left{width:100%;justify-content:space-between}
  .nav-links{display:none}
  .nav-right{width:100%;justify-content:space-between;margin-top:10px}
  .dropdown{right:18px;top:120px;min-width:170px}

  .page-header{padding:44px 16px}
  .page-header h1{font-size:24px}
  .page-header p{font-size:13px}

  .container{grid-template-columns:1fr;gap:18px;padding:0 16px 40px}
  .sidebar{order:2} /* move filters below on mobile */
  .content{order:1}

  .search-bar{flex-direction:column;align-items:stretch}
  .quick{justify-content:flex-start;flex-wrap:wrap}
  .quick button{flex:0 1 auto}

  .journal-card{grid-template-columns:1fr;align-items:flex-start;padding:14px}
  .journal-actions{flex-direction:row;align-items:center;gap:8px}
  .journal-actions a,.journal-actions button{padding:8px 10px;font-size:13px}

  .sidebar{padding:16px}
  .form-row input[type="text"],
  .form-row input[type="number"],
  .form-row select{padding:10px}

  .filters-actions{flex-direction:column}
  .filters-actions button{width:100%}

  .footer{padding:30px 16px}
}

/* small screens further adjustments */
@media (max-width:420px){
  .page-header h1{font-size:20px}
  .journal-card h3{font-size:16px}
  .journal-card p{font-size:13px}
  .nav-left h2{font-size:18px}
}
</style>
</head>

<body>

<!-- Navbar -->
<div class="navbar">
  <div class="nav-left">
    <h2>Pathagar | Lens </h2>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="journal.html">Journals</a>
      <a href="categories.html">Categories</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </div>
  </div>

  <div class="nav-right">
        <div class="hamburger" onclick="toggleMenu()">☰</div>
  </div>
</div>

<!-- Dropdown -->
<div class="dropdown" id="dropdownMenu">
  <a href="profile.html">Profile</a>
  <a href="setting.html">Settings</a>
  <a href="reg.html">Register</a>
  <a href="contact.html">Contact</a>
  <a href="admin.html">Admin Panel</a>
</div>

<!-- Header -->
<div class="page-header">
  <h1>Journal Directory</h1>
  <p>Advanced search and filters to find the most relevant scholarly journals and articles.</p>
</div>

<!-- Main container -->
<div class="container">
 <div id="journalResults"></div>

<div style="text-align:center; margin:20px 0;">
  <button id="loadMoreBtn" onclick="loadMore()" 
    style="padding:10px 20px; background:#0a2a66; color:white; border:none; border-radius:6px; cursor:pointer;">
    Load More
  </button>
</div>

  <!-- Sidebar / Filters -->
  <aside class="sidebar" aria-label="Filters">
    <h3>Refine search</h3>

    <div class="form-row">
      <label for="f-title">Title / Keyword</label>
      <input id="f-title" type="text" placeholder="e.g., machine learning">
    </div>

    <div class="form-row">
      <label for="f-author">Author</label>
      <input id="f-author" type="text" placeholder="Author name">
    </div>

    <div class="form-row">
      <label for="f-journal">Journal Name</label>
      <input id="f-journal" type="text" placeholder="Journal title">
    </div>

    <div class="form-row">
      <label for="f-isbn">DOI / ISBN / ISSN</label>
      <input id="f-isbn" type="text" placeholder="Enter DOI, ISBN or ISSN">
    </div>

    <div class="form-row">
      <label for="f-year-from">Year range</label>
      <div style="display:flex;gap:8px">
        <input id="f-year-from" type="number" placeholder="From" min="1800" max="2099" style="flex:1">
        <input id="f-year-to" type="number" placeholder="To" min="1800" max="2099" style="flex:1">
      </div>
    </div>

    <div class="form-row">
      <label for="f-subject">Subject / Discipline</label>
      <select id="f-subject">
        <option value="">Any</option>
        <option>Computer Science</option>
        <option>Medical & Life Sciences</option>
        <option>Engineering</option>
        <option>Social Sciences</option>
        <option>Humanities</option>
        <option>Environmental Science</option>
        <option>Business & Management</option>
      </select>
    </div>

    <div class="form-row">
      <label>Access</label>
      <div class="checkbox-row">
        <label class="small"><input id="f-open" type="checkbox"> Open Access only</label>
        <label class="small"><input id="f-peer" type="checkbox"> Peer-reviewed</label>
      </div>
    </div>

    <div class="form-row">
      <label for="f-publisher">Publisher</label>
      <input id="f-publisher" type="text" placeholder="e.g., Springer, Elsevier">
    </div>

    <div class="collapsible" onclick="toggleAdvanced()">Advanced filters ▾</div>
    <div class="advanced-area" id="advancedArea">
      <div class="form-row">
        <label for="f-affiliation">Author affiliation</label>
        <input id="f-affiliation" type="text" placeholder="University, institute">
      </div>
      <div class="form-row">
        <label for="f-language">Language</label>
        <select id="f-language">
          <option value="">Any</option>
          <option>English</option>
          <option>Bengali</option>
          <option>French</option>
          <option>Spanish</option>
        </select>
      </div>
      <div class="form-row">
        <label for="f-keywords">Keywords (comma separated)</label>
        <input id="f-keywords" type="text" placeholder="keyword1, keyword2">
      </div>
    </div>

    <div class="filters-actions">
      <button class="apply-btn" onclick="applyFilters()">Apply filters</button>
      <button class="reset-btn" onclick="resetFilters()">Reset</button>
    </div>
  </aside>

  <!-- Content -->
  <main class="content" aria-live="polite">

    <!-- Search bar -->
    <div class="search-bar" role="search" aria-label="Journal search">
      <input id="mainSearch" type="search" placeholder="Search journals, articles, DOI, author..." />
      <div class="quick" aria-hidden="false">
        <button onclick="quickSearch('machine learning')">Machine learning</button>
        <button onclick="quickSearch('public health')">Public health</button>
        <button onclick="quickSearch('information retrieval')">Information retrieval</button>
      </div>
    </div>

    <!-- results top bar -->
    <div class="results-bar">
      <div class="results-info" id="resultsInfo">Showing sample results</div>
      <div class="sort-select">
        <label class="small">Sort by</label>
        <select id="sortBy" onchange="renderResults()">
          <option value="relevance">Relevance</option>
          <option value="year_desc">Newest</option>
          <option value="year_asc">Oldest</option>
          <option value="citations">Citations</option>
        </select>
      </div>
    </div>

    <!-- Journal List -->
    <div class="journal-list" id="journalList">

      <!-- Sample (static) journal cards. Later your API can populate the same structure. -->
      <div class="journal-card">
        <div>
          <h3>Journal of Advanced Computer Science</h3>
          <div class="meta">ISSN: 1234-5678 • Indexed • Open Access</div>
          <p>Focuses on artificial intelligence, machine learning and advanced computing systems.</p>
          <div class="j-meta-row">
            <span class="small-tag">Open</span>
            <span>Vol. 12 • No. 3</span>
            <span>2025</span>
            <span>DOI: 10.1000/jacs.2025.123</span>
          </div>
        </div>
        <div class="journal-actions">
          <a class="view-btn" href="#">View details</a>
          <button class="save-btn" onclick="saveDummy(this)">Save</button>
        </div>
      </div>

      <div class="journal-card">
        <div>
          <h3>International Journal of Medical Research</h3>
          <div class="meta">ISSN: 2345-6789 • Peer Reviewed</div>
          <p>Publishes research in clinical medicine, pharmacology and health sciences.</p>
          <div class="j-meta-row">
            <span>Vol. 8 • No. 2</span>
            <span>2024</span>
            <span>DOI: 10.2000/ijmr.2024.45</span>
          </div>
        </div>
        <div class="journal-actions">
          <a class="view-btn" href="#">View details</a>
          <button class="save-btn" onclick="saveDummy(this)">Save</button>
        </div>
      </div>

      <div class="journal-card">
        <div>
          <h3>Global Review of Social Studies</h3>
          <div class="meta">ISSN: 3456-7890 • Scopus Indexed</div>
          <p>Covers sociology, economics and policy research.</p>
          <div class="j-meta-row">
            <span>Vol. 5 • No. 1</span>
            <span>2023</span>
            <span>DOI: 10.3000/grss.2023.7</span>
          </div>
        </div>
        <div class="journal-actions">
          <a class="view-btn" href="#">View details</a>
          <button class="save-btn" onclick="saveDummy(this)">Save</button>
        </div>
      </div>

    </div> <!-- /journal-list -->

    <!-- Pagination -->
    <div class="pagination" id="pagination">
      <button class="active">1</button>
      <button>2</button>
      <button>3</button>
      <button>Next</button>
    </div>

  </main>

</div> <!-- /container -->

<div class="footer">
  <div class="footer-container">
    <div>
      <h4>Pathagar | Lens</h4>
      <p>A unified academic journal discovery platform built for researchers and students.</p>
    </div>
    <div>
      <h4>Quick Links</h4>
      <a href="index.html">Home</a>
      <a href="journal.html">Journals</a>
      <a href="categories.html">Categories</a>
      <a href="contact.html">Contact</a>
    </div>
    <div>
      <h4>_____</h4>
      <a href="#">API Access</a>
      <a href="privacy.html">Privacy Policy</a>
      <a href="about.html">About</a>

    </div>
    <div>
      <h4>Contact</h4>
      <p>Email: pathagarlens@yahoo.com</p>
      <p>Cooch Behar, West Bengal, India (This is not the official address.)</p>
    </div>
  </div>

  <div class="bottom">
    © 2026 Pathagar Lens | All Rights Reserved | Design by Paradip Sen Roy
  </div>
</div>

<!-- Small JS: UI behaviors only (no API calls) -->
<script>
let currentPage = 1;
let currentQuery = "";

async function loadResults(reset = false){

  const urlParams = new URLSearchParams(window.location.search);
  const query = urlParams.get("q");

  if(!query) return;

  if(reset){
    currentPage = 1;
    document.getElementById("journalResults").innerHTML = "";
  }

  currentQuery = query;

  const resultDiv = document.getElementById("journalResults");

  try{

    const response = await fetch(`https://pathagarlens.app/api/search?q=${query}&page=${currentPage}`);
    const data = await response.json();

    let html = "";

    // Crossref safe loop
    if(data.crossref && Array.isArray(data.crossref)){
      data.crossref.forEach(item => {
        html += `
          <div style="background:white;padding:15px;margin:15px 0;border-radius:8px;">
            <h3>${item.title ? item.title[0] : "No title"}</h3>
            <p><strong>Source:</strong> Crossref</p>
            <p><strong>Year:</strong> ${item.created?.["date-parts"]?.[0]?.[0] || "N/A"}</p>
          </div>
        `;
      });
    }

    // Semantic Scholar safe loop
    if(data.semantic && Array.isArray(data.semantic)){
      data.semantic.forEach(item => {
        html += `
          <div style="background:white;padding:15px;margin:15px 0;border-radius:8px;">
            <h3>${item.title || "No title"}</h3>
            <p><strong>Source:</strong> Semantic Scholar</p>
            <p><strong>Year:</strong> ${item.year || "N/A"}</p>
          </div>
        `;
      });
    }

    // OpenAlex safe loop
    if(data.openalex && Array.isArray(data.openalex)){
      data.openalex.forEach(item => {
        html += `
          <div style="background:white;padding:15px;margin:15px 0;border-radius:8px;">
            <h3>${item.title || "No title"}</h3>
            <p><strong>Source:</strong> OpenAlex</p>
            <p><strong>Year:</strong> ${item.publication_year || "N/A"}</p>
          </div>
        `;
      });
    }

    resultDiv.innerHTML += html;

  }catch(error){
    resultDiv.innerHTML += "<p style='color:red'>Error loading results.</p>";
    console.error(error);
  }
}

function loadMore(){
  currentPage++;
  loadResults();
}

loadResults(true);
</script>
</body>
</html>






